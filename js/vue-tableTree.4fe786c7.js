(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["vue-tableTree"],{7270:function(e,t,l){"use strict";l("c5a3")},"75ad":function(e,t,l){"use strict";l.r(t);var d=function(){var e=this,t=e._self._c;return t("div",{staticClass:"tree-table-container"},[t("el-table",{ref:"treeTable",staticStyle:{width:"100%"},attrs:{data:e.tableData,"row-key":"id",border:"","default-expanded-keys":e.defaultExpandedRows,"tree-props":{children:"children",hasChildren:"hasChildren"},"highlight-current-row":"","row-class-name":e.tableRowClassName},on:{"current-change":e.handleCurrentChange}},[t("el-table-column",{attrs:{prop:"label",label:"名称",width:"220"},scopedSlots:e._u([{key:"default",fn:function({row:l}){return[t("span",{staticClass:"custom-tree-node"},[t("i",{class:["tree-node-icon",l.children&&l.children.length?"el-icon-folder":"el-icon-folder-opened"]}),t("span",{staticClass:"node-label"},[e._v(e._s(l.label))])])]}}])}),t("el-table-column",{attrs:{prop:"code",label:"编码",width:"180"}}),t("el-table-column",{attrs:{prop:"time",label:"时间"}})],1)],1)},n=[],a={name:"PersistentTreeTable",data(){return{tableData:[{id:1,label:"一级目录",code:"A001",time:"2023-01-01",children:[{id:4,label:"一级目录1",code:"A001-01",time:"2023-01-02",children:[{id:9,label:"一级目录1-1",code:"A001-01-01",time:"2023-01-03"},{id:10,label:"一级目录1-2",code:"A001-01-02",time:"2023-01-04"}]}]},{id:2,label:"二级目录",code:"A002",time:"2023-02-01",children:[{id:5,label:"二级目录1",code:"A002-01",time:"2023-02-02"},{id:6,label:"二级目录2",code:"A002-02",time:"2023-02-03",children:[{id:11,label:"二级目录2-1",code:"A002-02-01",time:"2023-02-04"}]}]},{id:3,label:"三级文件",code:"A003",time:"2023-03-01"}],currentRow:null,defaultExpandedRows:[]}},created(){this.tableData.length>0&&(this.defaultExpandedRows=[this.tableData[0].id],console.log(this.defaultExpandedRows,"this.defaultExpandedRows"))},mounted(){this.restoreSelectedNode()},methods:{handleCurrentChange(e){this.currentRow=e,e?localStorage.setItem("selectedTreeNodeId",e.id.toString()):localStorage.removeItem("selectedTreeNodeId")},tableRowClassName({row:e}){return this.currentRow&&e.id===this.currentRow.id?"current-row":""},restoreSelectedNode(){const e=localStorage.getItem("selectedTreeNodeId");e&&this.$nextTick(()=>{const t=this.findNodeById(this.tableData,parseInt(e));t&&(this.$refs.treeTable.setCurrentRow(t),this.currentRow=t,this.expandParentNodes(t))})},findNodeById(e,t){for(const l of e){if(l.id===t)return l;if(l.children&&l.children.length){const e=this.findNodeById(l.children,t);if(e)return e}}return null},expandParentNodes(e){const t=this.findParentNode(this.tableData,e.id);t&&(this.$refs.treeTable.toggleRowExpansion(t,!0),this.expandParentNodes(t))},findParentNode(e,t,l=null){for(const d of e){if(d.id===t)return l;if(d.children&&d.children.length){const e=this.findParentNode(d.children,t,d);if(e)return e}}return null}}},r=a,i=(l("7270"),l("2877")),o=Object(i["a"])(r,d,n,!1,null,"b9bdef86",null);t["default"]=o.exports},c5a3:function(e,t,l){}}]);
//# sourceMappingURL=vue-tableTree.4fe786c7.js.map